# 🔧 手动安装指南

如果自动启动脚本失败，请按照以下步骤手动安装：

## 步骤 1：检查 Python 环境

```bash
python --version
```

确保 Python 版本在 3.8 以上。

## 步骤 2：逐个安装依赖包

```bash
# 进入项目目录
cd django_finance_app

# 安装Django
python -m pip install Django

# 安装REST框架
python -m pip install djangorestframework

# 安装Excel处理库
python -m pip install openpyxl
python -m pip install xlsxwriter

# 安装CORS支持（可选）
python -m pip install django-cors-headers
```

## 步骤 3：初始化数据库

```bash
# 创建迁移文件
python manage.py makemigrations finance_app

# 应用迁移
python manage.py migrate
```

## 步骤 4：启动服务器

```bash
python manage.py runserver
```

## 步骤 5：访问应用

打开浏览器访问：http://127.0.0.1:8000/

## 常见问题解决

### 问题 1：pip 安装失败

```bash
# 升级pip
python -m pip install --upgrade pip

# 使用国内镜像
python -m pip install Django -i https://pypi.tuna.tsinghua.edu.cn/simple/
```

### 问题 2：权限问题

```bash
# 使用用户安装
python -m pip install Django --user
```

### 问题 3：虚拟环境

```bash
# 创建虚拟环境
python -m venv venv

# 激活虚拟环境 (Windows)
venv\Scripts\activate

# 激活虚拟环境 (Linux/Mac)
source venv/bin/activate

# 然后安装依赖
pip install Django djangorestframework openpyxl xlsxwriter
```

### 问题 4：端口占用

```bash
# 使用其他端口
python manage.py runserver 8001
```

## 最小化安装

如果只需要基本功能，只安装这些：

```bash
pip install Django
pip install openpyxl
pip install xlsxwriter
```

然后注释掉 settings.py 中的 REST 相关配置。

## 验证安装

运行测试脚本：

```bash
python test_setup.py
```

如果显示"所有测试通过"，说明安装成功。
